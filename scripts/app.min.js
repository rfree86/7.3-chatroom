this.JST=this.JST||{},this.JST.application=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,r,i){return""},useData:!0}),this.JST["products/create"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,r,i){return'<h1>Post Message</h1>\n\n<form>\n  <input type="text" name="message" placeholder="message">\n  <input type="submit">\n</form>\n'},useData:!0}),this.JST["products/index"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,r,i){return""},useData:!0}),this.JST["products/item"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,r,i){var n,o=t.helperMissing,s="function",a=this.escapeExpression;return"<h1>"+a((n=null!=(n=t.username||(null!=e?e.username:e))?n:o,typeof n===s?n.call(e,{name:"username",hash:{},data:i}):n))+"</h1>\n<p>"+a((n=null!=(n=t.message||(null!=e?e.message:e))?n:o,typeof n===s?n.call(e,{name:"message",hash:{},data:i}):n))+"</p>\n<p>"+a((n=null!=(n=t.createdAt||(null!=e?e.createdAt:e))?n:o,typeof n===s?n.call(e,{name:"createdAt",hash:{},data:i}):n))+"</p>\n"},useData:!0}),require.register("main",function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var n=t("router"),o=i(n);$(document).ready(function(){window.appRouter=new o["default"],Backbone.history.start()})}),require.register("router",function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("models/products-collection"),o=i(n),s=t("views/products/index"),a=i(s),u=Backbone.Router.extend({routes:{"":"index",compare:"compare"},initialize:function(){$("#container").html(JST.application()),this.products=new o["default"],this.currentUser=prompt("Enter you user name");var e=this;this.timer=setInterval(function(){e.products.fetch()},3e4)},index:function(){var e=new a["default"]({collection:this.products});this.products.fetch(),this.showView(e)},compare:function(){console.log("route:compare")},showView:function(e){return this.currentView&&this.currentView.remove(),this.currentView=e,$("#container").html(e.render().el),e}});e["default"]=u,r.exports=e["default"]}),require.register("models/product",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Backbone.Model.extend({idAttribute:"_id",defaults:function(){return{message:"",username:"",createdAt:Date.now()}}});e["default"]=i,r.exports=e["default"]}),require.register("models/products-collection",function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("models/product"),o=i(n),s=Backbone.Collection.extend({model:o["default"],url:"http://tiny-lasagna-server.herokuapp.com/collections/messages",comparator:"createdAt"});e["default"]=s,r.exports=e["default"]}),require.register("models/user",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Backbone.Model.extend({defaults:{name:""}});e["default"]=i,r.exports=e["default"]}),require.register("views/collection-view",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Backbone.View.extend({initialize:function(){this.listenTo(this.collection,"add",this.addChild),this.listenTo(this.collection,"remove",this.removeChild),this.listenTo(this.collection,"sort",this.sortChildren),this.children=[]},addChild:function(e,t){var r=t.indexOf(e),i=this.ItemViewConstructor||Backbone.View,n=new i({model:e});this.children.splice(r,0,n),this.$el.append(n.render().el)},removeChild:function(e,t){var r=_.findWhere(this.children,{model:e}),i=this.children.indexOf(r);this.children.splice(i,1),r.remove()},sortChildren:function(){var e=this,t=this.collection.map(function(t){var r=_.findWhere(e.children,{model:t});return r.el});this.$el.append(t)},remove:function(){_.invoke(this.children,"remove"),Backbone.View.prototype.remove.apply(this,arguments)}});e["default"]=i,r.exports=e["default"]}),require.register("views/products/create",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Backbone.View.extend({template:JST["products/create"],events:{"submit form":"createProduct"},render:function(){return this.$el.html(this.template()),this},createProduct:function(e){e.preventDefault();var t=this.$("input[name=message]").val();this.collection.create({message:t,username:appRouter.currentUser}),this.$("input").not("[type=submit]").val("")}});e["default"]=i,r.exports=e["default"]}),require.register("views/products/index",function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("views/products/item"),o=i(n),s=t("views/collection-view"),a=i(s),u=t("views/products/create"),l=i(u),c=a["default"].extend({tagName:"ul",ItemViewConstructor:o["default"]}),d=Backbone.View.extend({initialize:function(){this.productsCollectionView=new c({collection:this.collection}),this.productsCreateView=new l["default"]({collection:this.collection})},render:function(){return this.$el.html(this.productsCollectionView.render().el),this.$el.append(this.productsCreateView.render().el),this},remove:function(){this.productsCollectionView.remove(),this.productsCreateView.remove(),Backbone.View.prototype.remove.apply(this,arguments)}});e["default"]=d,r.exports=e["default"]}),require.register("views/products/item",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Backbone.View.extend({tagName:"li",template:JST["products/item"],render:function(){var e=this.model.toJSON();return e.createdAt=moment(e.createdAt).format("MMMM Do YYYY, h:mm:ss a"),this.$el.html(this.template(e)),this}});e["default"]=i,r.exports=e["default"]});